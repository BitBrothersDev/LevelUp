= form_with(model: skill, class: 'modern-form') do |form|
  - if skill.errors.any?
    .modern-alert.alert-danger{ role: 'alert' }
      %h2.mb-2= pluralize(skill.errors.count, 'error') + ' prevented this skill from being saved:'
      %ul.mb-0
        - skill.errors.each do |error|
          %li= error.full_message

  .content-card
    .form-grid
      .form-group
        = form.label :name
        = form.text_field :name, class: 'form-control', placeholder: 'Skill name'
      .form-group
        = form.label :description
        = form.text_area :description, class: 'form-control', placeholder: 'Describe the skill and expectations'
      .form-group
        = form.label :skill_category_id, 'Skill category'
        = form.select :skill_category_id, SkillCategory.all.map { |category| [category.name, category.id] }, { include_blank: 'Select category' }, class: 'form-select'
      .form-group
        = form.label :level_ids, 'Levels'
        = form.select :level_ids, Level.all.map { |level| ["#{level.title.presence || level.name} (#{level.name})", level.id] }, { include_hidden: false, include_blank: 'Please select', multiple: true }, class: 'form-select'

  .form-actions
    = form.submit class: 'btn btn-primary'
