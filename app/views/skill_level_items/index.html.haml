- levels = [OpenStruct.new(title: 'All')] + Level.all.to_a << OpenStruct.new(title: 'Without Materials')
- level_title_params = params[:level_title]

.skill-catalog-container
  .container
    -# Modern Header Section
    .catalog-header
      %h1 ðŸŽ“ Skill Catalog
      .subtitle Explore and master your learning journey

    -# Success Notice
    - if notice
      .alert.alert-success.modern-alert{:role => "alert"}= notice

    -# Modern Tab Navigation with Glassmorphism
    .modern-tabs
      %ul#myTab.nav.nav-pills{:role => "tablist"}
        - levels.each_with_index do |level, i|
          - link_class = level_title_params == level.title ? 'active' : ''
          %li.nav-item{:role => "presentation"}
            = link_to level.title, skill_level_items_path(level_title: level.title), :class => "nav-link #{link_class}", data: { turbo: false }

    -# Stats Overview
    .mb-4.text-center
      .d-inline-flex.gap-3.flex-wrap.justify-content-center
        .stat-badge
          .stat-icon ðŸ“š
          .d-flex.flex-column.align-items-start
            .stat-value= @skill_level_items.total_count rescue @skill_level_items.count
            .stat-label Total Items
        .stat-badge
          .stat-icon ðŸŽ¯
          .d-flex.flex-column.align-items-start
            .stat-value= level_title_params || 'All'
            .stat-label Current Filter

    -# Bento Grid Layout for Cards
    .bento-grid#skill_level_items
      - @skill_level_items.each do |skill_level_item|
        = render skill_level_item

    -# Modern Pagination
    .modern-pagination
      = paginate @skill_level_items

  -# Floating Action Button for Adding New Items
  = link_to new_skill_level_item_path, class: 'fab-button', title: 'Add New Skill Item' do
    %i.bi.bi-plus-lg
